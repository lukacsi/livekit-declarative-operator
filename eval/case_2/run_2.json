{"timestamp": "2025-12-14T00:29:05.771716984Z", "level": "INFO", "logger": "dcontroller.controller-runtime.metrics", "message": "Serving metrics server", "payload": {"bindAddress": ":8080", "secure": false}}
{"timestamp": "2025-12-14T00:29:05.771821245Z", "level": "INFO", "logger": "dcontroller", "message": "starting server", "payload": {"name": "health probe", "addr": "[::]:8081"}}
{"timestamp": "2025-12-14T00:29:05.771909077Z", "level": "ERROR", "logger": "op-ctrl", "message": "operator manager error", "payload": {"error": "manager already started"}}
{"timestamp": "2025-12-14T00:29:05.771918695Z", "level": "INFO", "logger": "apiserver", "message": "starting API server", "payload": {"https-addr": "127.0.0.1:32487", "http-addr": "[::]:8443"}}
{"timestamp": "2025-12-14T00:29:36.82167671Z", "level": "DEBUG", "logger": "events", "message": "dcontroller-manager-6b7446cdd5-6stcp_5eabdc0c-6af8-47b6-9741-f5e7b7125110 became leader", "payload": {"type": "Normal", "object": {"kind": "Lease", "namespace": "dcontroller-system", "name": "92062b70.l7mp.io", "uid": "8614fc93-3abe-4be3-9252-281c4f148886", "apiVersion": "coordination.k8s.io/v1", "resourceVersion": "1765672176814591022"}, "reason": "LeaderElection"}}
{"timestamp": "2025-12-14T00:29:36.825116196Z", "level": "INFO", "logger": "Starting", "message": "EventSource", "payload": {"controller": "operator-ctrl", "source": "kind source: *v1alpha1.Operator"}}
{"timestamp": "2025-12-14T00:29:36.950940078Z", "level": "INFO", "logger": "Starting", "message": "Controller", "payload": {"controller": "operator-ctrl"}}
{"timestamp": "2025-12-14T00:29:36.950993729Z", "level": "INFO", "logger": "Starting", "message": "workers", "payload": {"controller": "operator-ctrl", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:36.951244367Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-views-to-k8s"}}
{"timestamp": "2025-12-14T00:29:36.964551815Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.964667026Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.965735593Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.966338312Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.966379714Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:36.966476221Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "livekit-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.966966037Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.966987886Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.967054345Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-svc", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.967530812Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.967550146Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.967662822Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-httproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "gateway.networking.k8s.io/v1:HTTPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.968111212Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.968132807Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.968221057Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-udproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "stunner.l7mp.io/v1:UDPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.969001939Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.969107552Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:36.969306556Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-redis-statefulset", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:StatefulSet<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.971020818Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.971663041Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:36.972074367Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-redis-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.973485033Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.973517711Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:36.973687221Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-ingress-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.97429421Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.974331412Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:36.974445357Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-ingress-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.976207134Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:36.976331731Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:36.97672822Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "ingress-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:36.979811083Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:36.982768619Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:36.98396219Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:36.984138304Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:36.984733472Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:36.986870563Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:36.987292092Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:36.987525338Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:36.988199786Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:36.988305356Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.042051906Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-infra-manager"}}
{"timestamp": "2025-12-14T00:29:37.062113288Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.062157217Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:37.062240172Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-certificate", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:Certificate<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.063190301Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.064419045Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:37.064565236Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-clusterissuer", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:ClusterIssuer<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.065376254Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.065404103Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:37.065509674Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.066158201Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.06618956Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:37.066300612Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.068977363Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.069104532Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:37.069256211Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-proxy-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.envoyproxy.io/v1alpha1:EnvoyProxy<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.071558174Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.071692997Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:37.072242423Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "stunner.l7mp.io/v1:GatewayConfig<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.073637936Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.073828619Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:37.074073218Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.075379479Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.075623357Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:29:37.075987189Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.079700098Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.080135149Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.080527645Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.081411478Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.082551723Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.082215555Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0"}}
{"timestamp": "2025-12-14T00:29:37.082802401Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.083042024Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.083204558Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.082479393Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.084049733Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0"}}
{"timestamp": "2025-12-14T00:29:37.084071711Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.087114394Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670877577919024", "uid": "70d95617-4841-4e4a-85c2-aaa6be83f188"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-sig", "namespace": "default"}, "spec": {"ports": [{"name": "http", "port": 7880, "targetPort": 7880}], "selector": {"app": "livekit-server"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.091748677Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670944641343013", "uid": "145fdd06-f09a-4ad0-a547-6c13eacb3fdb"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:07:54Z", "lastUpdateTime": "2025-12-14T00:07:57Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:08:02Z", "lastUpdateTime": "2025-12-14T00:08:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}], "readyReplicas": 1, "redis": {"message": "Replicas: 1/1", "ready": true}, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default"}, "spec": {"replicas": 1, "selector": {"matchLabels": {"app": "livekit-server"}}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http"}], "resources": null, "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "volumes": [{"name": "cfg", "secret": {"secretName": "livekit-config"}}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.128062297Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-pool-to-views"}}
{"timestamp": "2025-12-14T00:29:37.226454697Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.226985147Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.227494264Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.236830978Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.237143412Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.237706446Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.240386709Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0"}}
{"timestamp": "2025-12-14T00:29:37.240707838Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.242618996Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670877577919024", "uid": "70d95617-4841-4e4a-85c2-aaa6be83f188"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.241763484Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:29:37.267141048Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.268527238Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "stunner-gatewayclass"}, "spec": {"controllerName": "stunner.l7mp.io/gateway-operator", "parametersRef": {"group": "stunner.l7mp.io", "kind": "GatewayConfig", "name": "stunner-gatewayconfig", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.266771314Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.266928394Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.275254815Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0"}}
{"timestamp": "2025-12-14T00:29:37.275603336Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.276961191Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0"}}
{"timestamp": "2025-12-14T00:29:37.276991375Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.281407001Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670877577919024", "uid": "70d95617-4841-4e4a-85c2-aaa6be83f188"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default"}, "spec": {"parentRefs": [{"name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "namespace": "default"}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.28407418Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0"}}
{"timestamp": "2025-12-14T00:29:37.28412161Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.325229153Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670944641343013", "uid": "145fdd06-f09a-4ad0-a547-6c13eacb3fdb"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:07:54Z", "lastUpdateTime": "2025-12-14T00:07:57Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:08:02Z", "lastUpdateTime": "2025-12-14T00:08:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}], "readyReplicas": 1, "redis": {"message": "Replicas: 1/1", "ready": true}, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.325767587Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670877577919024", "uid": "70d95617-4841-4e4a-85c2-aaa6be83f188"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Secret", "metadata": {"labels": {"livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-config", "namespace": "default"}, "stringData": {"livekit.yaml": "keys:\n  __API_KEY__: __API_SECRET__\nlog_level: info\nport: 7880\nredis:\n  address: redis.default.svc.cluster.local:6379\n  password: __REDIS_PASSWORD__\n\nrtc:\n  port_range_end: 60000\n  port_range_start: 50000\n  turn_servers:\n    - credential: __STUNNER_PASSWORD__\n      host: 34.13.38.98\n      port: 3478\n      protocol: udp\n      username: __STUNNER_USERNAME__\n  use_external_ip: false\nturn:\n  enabled: false"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.330125383Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0"}}
{"timestamp": "2025-12-14T00:29:37.330725195Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.333682981Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-status-writer"}}
{"timestamp": "2025-12-14T00:29:37.335227396Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670877577919024", "uid": "70d95617-4841-4e4a-85c2-aaa6be83f188"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "port": 7880}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.337564325Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0"}}
{"timestamp": "2025-12-14T00:29:37.339616762Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.34305311Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670944641343013", "uid": "145fdd06-f09a-4ad0-a547-6c13eacb3fdb"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:07:54Z", "lastUpdateTime": "2025-12-14T00:07:57Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:08:02Z", "lastUpdateTime": "2025-12-14T00:08:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}], "readyReplicas": 1, "redis": {"message": "Replicas: 1/1", "ready": true}, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis"}], "resources": null, "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "volumes": [{"emptyDir": {}, "name": "data"}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.345622272Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0"}}
{"timestamp": "2025-12-14T00:29:37.346644881Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.348538435Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670877577919024", "uid": "70d95617-4841-4e4a-85c2-aaa6be83f188"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"ports": [{"name": "redis", "port": 6379, "targetPort": 6379}], "selector": {"app": "redis"}, "type": "ClusterIP"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.350284549Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0"}}
{"timestamp": "2025-12-14T00:29:37.350397405Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.351489061Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670877577919024", "uid": "70d95617-4841-4e4a-85c2-aaa6be83f188"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.240448459Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0"}}
{"timestamp": "2025-12-14T00:29:37.351698312Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.240543506Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:29:37.353317002Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.353973355Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "Certificate", "metadata": {"name": "livekit-wildcard-cert", "namespace": "envoy-gateway-system"}, "spec": {"dnsNames": ["*.szakdoga.lukacsi.org"], "issuerRef": {"kind": "ClusterIssuer", "name": "letsencrypt-dns"}, "secretName": "livekit-tls"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.356066767Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "envoy"}, "spec": {"controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parametersRef": {"group": "gateway.envoyproxy.io", "kind": "EnvoyProxy", "name": "public-gw-proxy", "namespace": "envoy-gateway-system"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.37186955Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0"}}
{"timestamp": "2025-12-14T00:29:37.371906316Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.37196961Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0"}}
{"timestamp": "2025-12-14T00:29:37.371976694Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.374258876Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670945915535003", "uid": "59172004-750a-4478-ade0-b5fd5ff2de65"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}, "redis": {"ready": true}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:07:54Z", "lastUpdateTime": "2025-12-14T00:07:57Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:08:02Z", "lastUpdateTime": "2025-12-14T00:08:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}], "readyReplicas": 1, "replicas": 1}}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "livekitIngress": null, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.377393343Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670945915535003", "uid": "59172004-750a-4478-ade0-b5fd5ff2de65"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}, "redis": {"ready": true}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:07:54Z", "lastUpdateTime": "2025-12-14T00:07:57Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:08:02Z", "lastUpdateTime": "2025-12-14T00:08:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}], "readyReplicas": 1, "replicas": 1}}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.383548263Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0"}}
{"timestamp": "2025-12-14T00:29:37.383605344Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0"}}
{"timestamp": "2025-12-14T00:29:37.383619707Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.383651574Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0"}}
{"timestamp": "2025-12-14T00:29:37.383658341Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.384625993Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.envoyproxy.io/v1alpha1", "kind": "EnvoyProxy", "metadata": {"name": "public-gw-proxy", "namespace": "envoy-gateway-system"}, "spec": {"provider": {"kubernetes": {"envoyService": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}}}, "type": "Kubernetes"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.384767092Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "GatewayConfig", "metadata": {"name": "stunner-gatewayconfig", "namespace": "stunner"}, "spec": {"authType": "static", "password": "pass-1", "realm": "stunner.l7mp.io", "userName": "user-1"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.385137228Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0"}}
{"timestamp": "2025-12-14T00:29:37.385318378Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.386704929Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "name": "udp-gateway", "namespace": "stunner"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.383627521Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.385281346Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0"}}
{"timestamp": "2025-12-14T00:29:37.390737619Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.39185638Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "ClusterIssuer", "metadata": {"name": "letsencrypt-dns"}, "spec": {"acme": {"email": "sandor@lukacsi.org", "privateKeySecretRef": {"name": "le-account-key"}, "server": "https://acme-v02.api.letsencrypt.org/directory", "solvers": [{"dns01": {"cloudflare": {"apiTokenSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}}}}]}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.425272471Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.546209928Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.546251719Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.546406021Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "server-status-from-deploy", "sources": "[apps/v1:Deployment]", "pipeline": "input:Deployment \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.547238083Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.54726398Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.547399051Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "redis-status-from-statefulset", "sources": "[apps/v1:StatefulSet]", "pipeline": "input:StatefulSet \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.550230321Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 4, "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.550365262Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.550623032Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "networking-status-aggregator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView,gateway.networking.k8s.io/v1:Gateway,gateway.networking.k8s.io/v1:HTTPRoute,stunner.l7mp.io/v1:UDPRoute]", "pipeline": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.55173252Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.551854922Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.55203756Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.553933658Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.554038191Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:29:37.554483935Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:29:37.557341046Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.559606066Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.559998643Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.560275746Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.560621776Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.561045995Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.563400222Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.564695395Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:29:37.568989688Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:29:24Z", "generation": 1, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672164471039012", "uid": "98328fb1-a0a7-420a-8553-88692bedb8e9"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "livekitIngress": null, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.58727858Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:29:24Z", "generation": 1, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672164471039012", "uid": "98328fb1-a0a7-420a-8553-88692bedb8e9"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.667984859Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0"}}
{"timestamp": "2025-12-14T00:29:37.668018266Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.668893675Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2"}}
{"timestamp": "2025-12-14T00:29:37.668944329Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.669177777Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0"}}
{"timestamp": "2025-12-14T00:29:37.669222551Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.669323475Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3"}}
{"timestamp": "2025-12-14T00:29:37.669333742Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.669493723Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0"}}
{"timestamp": "2025-12-14T00:29:37.669508405Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.725295846Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670877577919024", "uid": "70d95617-4841-4e4a-85c2-aaa6be83f188"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.729342021Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765670874181887018", "uid": "c6702d89-3b7b-4a3b-a5b8-18b780160452"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:07:53Z", "message": "Route is accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:07:53Z", "message": "Resolved all the Object references for the Route", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}}]}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.736498099Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670877577919024", "uid": "70d95617-4841-4e4a-85c2-aaa6be83f188"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.740906134Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672143425855004", "uid": "4c5f582c-655e-4afd-8512-c8642857c4be"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "all backend references successfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.745658508Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765670944641343013", "uid": "145fdd06-f09a-4ad0-a547-6c13eacb3fdb"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:07:54Z", "lastUpdateTime": "2025-12-14T00:07:57Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:08:02Z", "lastUpdateTime": "2025-12-14T00:08:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}], "readyReplicas": 1, "redis": {"message": "Replicas: 1/1", "ready": true}, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": true}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:07:54Z", "lastUpdateTime": "2025-12-14T00:07:57Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:08:02Z", "lastUpdateTime": "2025-12-14T00:08:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}], "readyReplicas": 1, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.752375051Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177641935008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "livekit-b"}, "spec": {"ports": [{"name": "redis", "port": 6379, "targetPort": 6379}], "selector": {"app": "redis"}, "type": "ClusterIP"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.851236045Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177641935008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.851513228Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0"}}
{"timestamp": "2025-12-14T00:29:37.851527401Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.856547823Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765670876927023006", "uid": "9190fa24-c649-4e48-86f0-1769dcac0198"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 1, "collisionCount": 0, "currentReplicas": 1, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "readyReplicas": 1, "replicas": 1, "updateRevision": "redis-7b794dbff5", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"redis": {"message": "Replicas: 1/1", "ready": true}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.870268268Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177641935008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "livekit-b"}, "spec": {"parentRefs": [{"name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "namespace": "livekit-b"}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.876990483Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177641935008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.878553392Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177641935008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.888872783Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177641935008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "livekit-b"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "port": 7880}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.892144109Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1"}}
{"timestamp": "2025-12-14T00:29:37.924408913Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.926374173Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672142686143013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.936238549Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177639311011", "uid": "6e34e2db-36de-4f57-965f-bb3e2ef6d1f8"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "livekit-b"}, "spec": {"selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis"}], "resources": null, "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "volumes": [{"emptyDir": {}, "name": "data"}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.943351223Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177639311011", "uid": "6e34e2db-36de-4f57-965f-bb3e2ef6d1f8"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "livekit-b"}, "spec": {"replicas": 1, "selector": {"matchLabels": {"app": "livekit-server"}}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http"}], "resources": null, "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "volumes": [{"name": "cfg", "secret": {"secretName": "livekit-config"}}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.947967675Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177639311011", "uid": "6e34e2db-36de-4f57-965f-bb3e2ef6d1f8"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": []}}
{"timestamp": "2025-12-14T00:29:37.950174081Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177641935008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-sig", "namespace": "livekit-b"}, "spec": {"ports": [{"name": "http", "port": 7880, "targetPort": 7880}], "selector": {"app": "livekit-server"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.963049915Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0"}}
{"timestamp": "2025-12-14T00:29:37.963089561Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:29:37.963673949Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672143321631016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:29:02Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.966284707Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765670882983647005", "uid": "b5fba7ed-dcb9-4280-9668-ae651ee3db67"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:07:54Z", "lastUpdateTime": "2025-12-14T00:07:57Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:08:02Z", "lastUpdateTime": "2025-12-14T00:08:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}], "observedGeneration": 1, "readyReplicas": 1, "replicas": 1, "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:07:54Z", "lastUpdateTime": "2025-12-14T00:07:57Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:08:02Z", "lastUpdateTime": "2025-12-14T00:08:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}], "readyReplicas": 1, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:37.973429269Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "livekit-b", "resourceVersion": "1765672177893295007", "uid": "7d7a16d3-03f2-4484-9995-f7c05ecd46b7"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "livekit-b"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:29:38.034818537Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "livekit-b", "resourceVersion": "1765672177921695021", "uid": "65733a00-68eb-4dac-8406-cca3bd62ed31"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.227072663Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "livekit-b", "resourceVersion": "1765672178103871010", "uid": "78cdead5-7baf-44db-b343-3db5eaf349c1"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "replicas": 0}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.333897113Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672178110975013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:29:37Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:37Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 2, "conditions": [{"lastTransitionTime": "2025-12-14T00:29:37Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:29:37Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:37Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:29:38.370618832Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:29:38Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "livekit-b", "resourceVersion": "1765672178114479021", "uid": "f10f0d91-61ab-47d0-8a95-1d092266c242"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"availableReplicas": null, "conditions": null, "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.426108707Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177639311011", "uid": "6e34e2db-36de-4f57-965f-bb3e2ef6d1f8"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.437228258Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177641935008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"components": {"networking": {"httpRouteReady": null, "lbIP": null, "udpRouteReady": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.488243705Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "livekit-b", "resourceVersion": "1765672177989903021", "uid": "65733a00-68eb-4dac-8406-cca3bd62ed31"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:29:37Z", "message": "Route is accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:37Z", "message": "Failed to process route rule 0 backendRef 0: service livekit-b/livekit-sig not found.", "observedGeneration": 1, "reason": "BackendNotFound", "status": "False", "type": "ResolvedRefs"}], "controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.690223773Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672178315311008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:29:38.713077432Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672178315311008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"components": {"networking": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.750919956Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672178389343016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 2, "conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:29:38.761093942Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:07:53Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672178487823004", "uid": "4c5f582c-655e-4afd-8512-c8642857c4be"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "all backend references successfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": []}}
{"timestamp": "2025-12-14T00:29:38.773890285Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "livekit-b", "resourceVersion": "1765672178600703007", "uid": "7d7a16d3-03f2-4484-9995-f7c05ecd46b7"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "livekit-b"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "at least one backend reference failed to be successfully resolved", "observedGeneration": 1, "reason": "BackendNotFound", "status": "False", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.865187696Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672178813135008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:29:38.89409636Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672177641935008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:29:38.898748226Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672178315311008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Secret", "metadata": {"labels": {"livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-config", "namespace": "livekit-b"}, "stringData": {"livekit.yaml": "keys:\n  __API_KEY__: __API_SECRET__\nlog_level: info\nport: 7880\nredis:\n  address: redis.livekit-b.svc.cluster.local:6379\n  password: __REDIS_PASSWORD__\n\nrtc:\n  port_range_end: 60000\n  port_range_start: 50000\n  turn_servers:\n    - credential: __STUNNER_PASSWORD__\n      host: 34.13.38.98\n      port: 3478\n      protocol: udp\n      username: __STUNNER_USERNAME__\n  use_external_ip: false\nturn:\n  enabled: false"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.967313764Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:29:38Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "livekit-b", "resourceVersion": "1765672178475007021", "uid": "f10f0d91-61ab-47d0-8a95-1d092266c242"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:38Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:38Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:38.977912202Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "livekit-b", "resourceVersion": "1765672178477055021", "uid": "65733a00-68eb-4dac-8406-cca3bd62ed31"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "Route is accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "message": "Resolved all the Object references for the Route", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}}]}}, "result": []}}
{"timestamp": "2025-12-14T00:29:39.027721276Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "livekit-b", "resourceVersion": "1765672178925375010", "uid": "78cdead5-7baf-44db-b343-3db5eaf349c1"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 0, "updateRevision": "redis-7b794dbff5"}}, "result": []}}
{"timestamp": "2025-12-14T00:29:39.031640691Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672178505631011", "uid": "6e34e2db-36de-4f57-965f-bb3e2ef6d1f8"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"components": {"redis": {"ready": false}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:39.066296198Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672178813135008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:29:39.105826918Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "livekit-b", "resourceVersion": "1765672179070991010", "uid": "78cdead5-7baf-44db-b343-3db5eaf349c1"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentReplicas": 1, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 1, "updateRevision": "redis-7b794dbff5", "updatedReplicas": 1}}, "result": []}}
{"timestamp": "2025-12-14T00:29:39.173104719Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:29:38Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "livekit-b", "resourceVersion": "1765672178814031021", "uid": "f10f0d91-61ab-47d0-8a95-1d092266c242"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:38Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:38Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "observedGeneration": 1, "unavailableReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:38Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:38Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:39.232957146Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672179161839008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:29:39.251833957Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672179161839008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:29:39.314609713Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672178813135008", "uid": "ec77eefc-da06-4931-9911-d1ac9c765775"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.livekit-b.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:39.384901211Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:29:38Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "livekit-b", "resourceVersion": "1765672179126399021", "uid": "f10f0d91-61ab-47d0-8a95-1d092266c242"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:38Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:39Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "observedGeneration": 1, "replicas": 1, "unavailableReplicas": 1, "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:38Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:29:38Z", "lastUpdateTime": "2025-12-14T00:29:39Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:29:39.434623025Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672178749935011", "uid": "6e34e2db-36de-4f57-965f-bb3e2ef6d1f8"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": []}}
{"timestamp": "2025-12-14T00:29:39.436049496Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:29:37Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "livekit-b", "resourceVersion": "1765672178847599011", "uid": "6e34e2db-36de-4f57-965f-bb3e2ef6d1f8"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"serviceName": "livekit-sig"}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "livekit-b"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
