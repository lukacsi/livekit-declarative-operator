{"timestamp": "2025-12-14T00:34:06.756113995Z", "level": "INFO", "logger": "apiserver", "message": "starting API server", "payload": {"https-addr": "127.0.0.1:32586", "http-addr": "[::]:8443"}}
{"timestamp": "2025-12-14T00:34:06.75685288Z", "level": "INFO", "logger": "dcontroller.controller-runtime.metrics", "message": "Serving metrics server", "payload": {"bindAddress": ":8080", "secure": false}}
{"timestamp": "2025-12-14T00:34:06.756986944Z", "level": "INFO", "logger": "dcontroller", "message": "starting server", "payload": {"name": "health probe", "addr": "[::]:8081"}}
{"timestamp": "2025-12-14T00:34:06.757139168Z", "level": "ERROR", "logger": "op-ctrl", "message": "operator manager error", "payload": {"error": "manager already started"}}
{"timestamp": "2025-12-14T00:34:32.864552498Z", "level": "DEBUG", "logger": "events", "message": "dcontroller-manager-5544466844-wpjvl_dc6cc82c-4bcd-47f9-9117-442084ea6529 became leader", "payload": {"type": "Normal", "object": {"kind": "Lease", "namespace": "dcontroller-system", "name": "92062b70.l7mp.io", "uid": "8614fc93-3abe-4be3-9252-281c4f148886", "apiVersion": "coordination.k8s.io/v1", "resourceVersion": "1765672472858319022"}, "reason": "LeaderElection"}}
{"timestamp": "2025-12-14T00:34:32.865030754Z", "level": "INFO", "logger": "Starting", "message": "EventSource", "payload": {"controller": "operator-ctrl", "source": "kind source: *v1alpha1.Operator"}}
{"timestamp": "2025-12-14T00:34:32.985711841Z", "level": "INFO", "logger": "Starting", "message": "Controller", "payload": {"controller": "operator-ctrl"}}
{"timestamp": "2025-12-14T00:34:32.985830485Z", "level": "INFO", "logger": "Starting", "message": "workers", "payload": {"controller": "operator-ctrl", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:32.986231702Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-pool-to-views"}}
{"timestamp": "2025-12-14T00:34:33.001656755Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.001706817Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.001811194Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.002306863Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.002326156Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.002836988Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.00677788Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.007519587Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.041655458Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-status-writer"}}
{"timestamp": "2025-12-14T00:34:33.059007103Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.059047497Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.059158645Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "server-status-from-deploy", "sources": "[apps/v1:Deployment]", "pipeline": "input:Deployment \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.059885149Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.05998795Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.060177263Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "redis-status-from-statefulset", "sources": "[apps/v1:StatefulSet]", "pipeline": "input:StatefulSet \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.063095363Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 4, "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.063135322Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.063240948Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "networking-status-aggregator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView,gateway.networking.k8s.io/v1:Gateway,gateway.networking.k8s.io/v1:HTTPRoute,stunner.l7mp.io/v1:UDPRoute]", "pipeline": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.064872366Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.065000836Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.065451555Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.066511233Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.066612984Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.06677138Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.068917584Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.070696304Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.073704422Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.074311086Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.074825379Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.075216664Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.076462697Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.07813458Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.112050799Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0"}}
{"timestamp": "2025-12-14T00:34:33.112159256Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.125371985Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-views-to-k8s"}}
{"timestamp": "2025-12-14T00:34:33.131358142Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0"}}
{"timestamp": "2025-12-14T00:34:33.131454185Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.13885525Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:34:24Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672464890655003", "uid": "3404bcd1-757c-43de-af9e-49250b794b24"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.135685274Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:34:24Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672464890655003", "uid": "3404bcd1-757c-43de-af9e-49250b794b24"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "livekitIngress": null, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.212817349Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0"}}
{"timestamp": "2025-12-14T00:34:33.212883139Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.212982314Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0"}}
{"timestamp": "2025-12-14T00:34:33.212991311Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.213048627Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0"}}
{"timestamp": "2025-12-14T00:34:33.213056922Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.213148913Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3"}}
{"timestamp": "2025-12-14T00:34:33.21316294Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.22289313Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1"}}
{"timestamp": "2025-12-14T00:34:33.222973062Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.223561169Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0"}}
{"timestamp": "2025-12-14T00:34:33.223722972Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.224002252Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0"}}
{"timestamp": "2025-12-14T00:34:33.224121074Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.224319763Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2"}}
{"timestamp": "2025-12-14T00:34:33.224438664Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.230776394Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672444537967013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:34:04Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:04Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 0, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:04Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:34:04Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:04Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:34:33.234799647Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672444777855016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:04Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 0, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:04Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:04Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:34:04Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:34:33.238101764Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.238707758Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.239897371Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.243448295Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.243642568Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.245089295Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "livekit-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.249050124Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.24917001Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.249998264Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-svc", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.252988205Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.253109434Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.255619498Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-httproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "gateway.networking.k8s.io/v1:HTTPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.258160189Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.258292041Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.258633927Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-udproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "stunner.l7mp.io/v1:UDPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.261209764Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.26125938Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.263110538Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-redis-statefulset", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:StatefulSet<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.323195493Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473281391013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.323848184Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.327639255Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.329948996Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-redis-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.329569664Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473279711024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": null, "lbIP": null, "udpRouteReady": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.327726492Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473279711024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:34:33.332884424Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.332940746Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.333104353Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-ingress-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.334569723Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.335797604Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.336166985Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-ingress-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.337506104Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.337628063Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.337784254Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "ingress-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.341467003Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.344092691Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.344699484Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.344949358Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.34543251Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.347657258Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.34769304Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.348479376Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.348619795Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.348789631Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.390237401Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-infra-manager"}}
{"timestamp": "2025-12-14T00:34:33.413632517Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.413675293Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.413827948Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-certificate", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:Certificate<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.415041691Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.415088456Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.415194932Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-clusterissuer", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:ClusterIssuer<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.416388086Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.416538692Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.422831534Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.425550019Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.42585721Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.426483139Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.429435672Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.429476271Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.430222792Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-proxy-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.envoyproxy.io/v1alpha1:EnvoyProxy<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.430999616Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.431025538Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.431251531Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "stunner.l7mp.io/v1:GatewayConfig<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.432556236Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.432619535Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.432715614Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.433710708Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:34:33.433748083Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:34:33.433844714Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:34:33.437261886Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.437766629Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.438026041Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.438172533Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.438336684Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.438355121Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.438455006Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.438523169Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:34:33.444696377Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0"}}
{"timestamp": "2025-12-14T00:34:33.444736174Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.444956715Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0"}}
{"timestamp": "2025-12-14T00:34:33.444971634Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.445646898Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473279711024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:34:33.445765544Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0"}}
{"timestamp": "2025-12-14T00:34:33.445774428Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.447008673Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473279711024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"ports": [{"name": "redis", "port": 6379, "targetPort": 6379}], "selector": {"app": "redis"}, "type": "ClusterIP"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.44798399Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0"}}
{"timestamp": "2025-12-14T00:34:33.449225446Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.451456212Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473281391013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default"}, "spec": {"replicas": 1, "selector": {"matchLabels": {"app": "livekit-server"}}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http"}], "resources": null, "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "volumes": [{"name": "cfg", "secret": {"secretName": "livekit-config"}}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.454551531Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473279711024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-sig", "namespace": "default"}, "spec": {"ports": [{"name": "http", "port": 7880, "targetPort": 7880}], "selector": {"app": "livekit-server"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.538200582Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:34:33.538239831Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.538281709Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0"}}
{"timestamp": "2025-12-14T00:34:33.538309632Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.538340527Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0"}}
{"timestamp": "2025-12-14T00:34:33.53834865Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.54073554Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "Certificate", "metadata": {"name": "livekit-wildcard-cert", "namespace": "envoy-gateway-system"}, "spec": {"dnsNames": ["*.szakdoga.lukacsi.org"], "issuerRef": {"kind": "ClusterIssuer", "name": "letsencrypt-dns"}, "secretName": "livekit-tls"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.545845431Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.envoyproxy.io/v1alpha1", "kind": "EnvoyProxy", "metadata": {"name": "public-gw-proxy", "namespace": "envoy-gateway-system"}, "spec": {"provider": {"kubernetes": {"envoyService": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}}}, "type": "Kubernetes"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.546314342Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "envoy"}, "spec": {"controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parametersRef": {"group": "gateway.envoyproxy.io", "kind": "EnvoyProxy", "name": "public-gw-proxy", "namespace": "envoy-gateway-system"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.554518344Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0"}}
{"timestamp": "2025-12-14T00:34:33.554693052Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.555381522Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0"}}
{"timestamp": "2025-12-14T00:34:33.555419127Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.556495183Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473279711024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "port": 7880}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.558232575Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473281391013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis"}], "resources": null, "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "volumes": [{"emptyDir": {}, "name": "data"}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.554527442Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0"}}
{"timestamp": "2025-12-14T00:34:33.560664339Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.562901009Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473279711024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default"}, "spec": {"parentRefs": [{"name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "namespace": "default"}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.554554982Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0"}}
{"timestamp": "2025-12-14T00:34:33.56456181Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.565909577Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473279711024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:34:33.567617423Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0"}}
{"timestamp": "2025-12-14T00:34:33.56764751Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.568370548Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473281391013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": []}}
{"timestamp": "2025-12-14T00:34:33.568484872Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0"}}
{"timestamp": "2025-12-14T00:34:33.568501874Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.571829895Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473279711024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:34:33.649969188Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0"}}
{"timestamp": "2025-12-14T00:34:33.650009889Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.649997431Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0"}}
{"timestamp": "2025-12-14T00:34:33.650028381Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.651127713Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "GatewayConfig", "metadata": {"name": "stunner-gatewayconfig", "namespace": "stunner"}, "spec": {"authType": "static", "password": "pass-1", "realm": "stunner.l7mp.io", "userName": "user-1"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.651197982Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "name": "udp-gateway", "namespace": "stunner"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.649978081Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:34:33.653229589Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.655616462Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "stunner-gatewayclass"}, "spec": {"controllerName": "stunner.l7mp.io/gateway-operator", "parametersRef": {"group": "stunner.l7mp.io", "kind": "GatewayConfig", "name": "stunner-gatewayconfig", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.656299964Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0"}}
{"timestamp": "2025-12-14T00:34:33.656384514Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.6589094Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "ClusterIssuer", "metadata": {"name": "letsencrypt-dns"}, "spec": {"acme": {"email": "sandor@lukacsi.org", "privateKeySecretRef": {"name": "le-account-key"}, "server": "https://acme-v02.api.letsencrypt.org/directory", "solvers": [{"dns01": {"cloudflare": {"apiTokenSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}}}}]}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.660456555Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0"}}
{"timestamp": "2025-12-14T00:34:33.660545919Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:34:33.662669726Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.755399323Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672473682879005", "uid": "3485c998-4176-4102-8321-28370d7cf016"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": null, "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.758387532Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672473718671018", "uid": "343ffe38-328e-4b8e-9f64-9e9e8cabad2d"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:34:33.806545428Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672473745775004", "uid": "ae6c5758-a747-4b10-acf3-ebb4d9ca8c4a"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.833230884Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672473798031006", "uid": "e1619bdb-9418-4e67-947b-abe8417c741c"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "replicas": 0}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.857516826Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672473808959018", "uid": "343ffe38-328e-4b8e-9f64-9e9e8cabad2d"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "message": "Route is accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "message": "Resolved all the Object references for the Route", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.968517162Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473939279024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Secret", "metadata": {"labels": {"livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-config", "namespace": "default"}, "stringData": {"livekit.yaml": "keys:\n  __API_KEY__: __API_SECRET__\nlog_level: info\nport: 7880\nredis:\n  address: redis.default.svc.cluster.local:6379\n  password: __REDIS_PASSWORD__\n\nrtc:\n  port_range_end: 60000\n  port_range_start: 50000\n  turn_servers:\n    - credential: __STUNNER_PASSWORD__\n      host: 34.13.38.98\n      port: 3478\n      protocol: udp\n      username: __STUNNER_USERNAME__\n  use_external_ip: false\nturn:\n  enabled: false"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.972252713Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672473925007013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:34:33.980910811Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473939279024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:33.98981824Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473939279024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.000985347Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672473952207005", "uid": "3485c998-4176-4102-8321-28370d7cf016"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:33Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:33Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:34.038257202Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672473944191013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"serviceName": "livekit-sig"}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.132381263Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474097663013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"serviceName": "livekit-sig"}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.209997528Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474118431024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.217641467Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474118431024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.337370333Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474207343013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": false}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:34.357218943Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474225391024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:34.416078581Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474225391024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.42949235Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672474275263004", "uid": "ae6c5758-a747-4b10-acf3-ebb4d9ca8c4a"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:34:34Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:34Z", "message": "at least one backend reference failed to be successfully resolved", "observedGeneration": 1, "reason": "BackendNotFound", "status": "False", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:34.434724465Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672474368943006", "uid": "e1619bdb-9418-4e67-947b-abe8417c741c"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 0, "updateRevision": "redis-7b794dbff5"}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.51756584Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672474211775016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:34Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:34Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:34Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:34:34Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.65208165Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474592303013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.733530404Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672474645439006", "uid": "e1619bdb-9418-4e67-947b-abe8417c741c"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentReplicas": 1, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 1, "updateRevision": "redis-7b794dbff5", "updatedReplicas": 1}}, "result": []}}
{"timestamp": "2025-12-14T00:34:34.831276271Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474726303013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:33Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "serviceName": "livekit-sig"}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:33Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:34.84138182Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672474111663005", "uid": "3485c998-4176-4102-8321-28370d7cf016"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:33Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "observedGeneration": 1, "unavailableReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:33Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:34.913708186Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474708783024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:34:35.277221718Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474118431024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:34:35.278766837Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474225391024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:34:35.281617278Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474708783024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:34:35.407410967Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672474708783024", "uid": "28fbe0ea-2419-42fa-8f07-702bda5488a5"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:35.481934283Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672474571695005", "uid": "3485c998-4176-4102-8321-28370d7cf016"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "observedGeneration": 1, "replicas": 1, "unavailableReplicas": 1, "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:35.700043573Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672475413663013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:33Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "serviceName": "livekit-sig"}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:33Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:35.850188013Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672475633007013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:37.463025016Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672477438735005", "uid": "3485c998-4176-4102-8321-28370d7cf016"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:37Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "observedGeneration": 1, "readyReplicas": 1, "replicas": 1, "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:37Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:37.474996103Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672477443391006", "uid": "e1619bdb-9418-4e67-947b-abe8417c741c"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 1, "collisionCount": 0, "currentReplicas": 1, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "readyReplicas": 1, "replicas": 1, "updateRevision": "redis-7b794dbff5", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"redis": {"message": "Replicas: 1/1", "ready": true}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:37.548305735Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672477526303013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:37Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:37Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:37.611181014Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672477575311013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:37Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:37Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": []}}
{"timestamp": "2025-12-14T00:34:37.63183699Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672477610271013", "uid": "7d2e6743-54fe-427a-b1c4-fc6d27b93a1f"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "redis": {"message": "Replicas: 1/1", "ready": true}, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": true}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:34Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:34:33Z", "lastUpdateTime": "2025-12-14T00:34:34Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:37.756893927Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672477726799016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:37Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:37Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:37Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:34:37Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:34:37.826365963Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:34:33Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672477767311004", "uid": "ae6c5758-a747-4b10-acf3-ebb4d9ca8c4a"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:34:37Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:37Z", "message": "all backend references successfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": []}}
