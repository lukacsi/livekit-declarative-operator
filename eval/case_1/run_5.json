{"timestamp": "2025-12-14T00:34:43.869214721Z", "level": "INFO", "logger": "apiserver", "message": "starting API server", "payload": {"https-addr": "127.0.0.1:20414", "http-addr": "[::]:8443"}}
{"timestamp": "2025-12-14T00:34:43.86927729Z", "level": "INFO", "logger": "dcontroller.controller-runtime.metrics", "message": "Serving metrics server", "payload": {"bindAddress": ":8080", "secure": false}}
{"timestamp": "2025-12-14T00:34:43.86937301Z", "level": "INFO", "logger": "dcontroller", "message": "starting server", "payload": {"name": "health probe", "addr": "[::]:8081"}}
{"timestamp": "2025-12-14T00:34:43.869482387Z", "level": "ERROR", "logger": "op-ctrl", "message": "operator manager error", "payload": {"error": "manager already started"}}
{"timestamp": "2025-12-14T00:35:15.343480592Z", "level": "DEBUG", "logger": "events", "message": "dcontroller-manager-6bb4666b5c-8xnw5_57234471-d77d-49d8-af7f-489ff61b47d8 became leader", "payload": {"type": "Normal", "object": {"kind": "Lease", "namespace": "dcontroller-system", "name": "92062b70.l7mp.io", "uid": "8614fc93-3abe-4be3-9252-281c4f148886", "apiVersion": "coordination.k8s.io/v1", "resourceVersion": "1765672515337343022"}, "reason": "LeaderElection"}}
{"timestamp": "2025-12-14T00:35:15.344860406Z", "level": "INFO", "logger": "Starting", "message": "EventSource", "payload": {"controller": "operator-ctrl", "source": "kind source: *v1alpha1.Operator"}}
{"timestamp": "2025-12-14T00:35:15.491222612Z", "level": "INFO", "logger": "Starting", "message": "Controller", "payload": {"controller": "operator-ctrl"}}
{"timestamp": "2025-12-14T00:35:15.491272994Z", "level": "INFO", "logger": "Starting", "message": "workers", "payload": {"controller": "operator-ctrl", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.491692474Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-pool-to-views"}}
{"timestamp": "2025-12-14T00:35:15.507905578Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.507961579Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.508069703Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.508653736Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.508675686Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.508786156Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.509473394Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.511799379Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.533361727Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-status-writer"}}
{"timestamp": "2025-12-14T00:35:15.554025572Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.554329174Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.554997011Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "server-status-from-deploy", "sources": "[apps/v1:Deployment]", "pipeline": "input:Deployment \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.572142171Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.572323659Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.573167917Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "redis-status-from-statefulset", "sources": "[apps/v1:StatefulSet]", "pipeline": "input:StatefulSet \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.576406846Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 4, "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.576450258Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.62214342Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0"}}
{"timestamp": "2025-12-14T00:35:15.622297338Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.622335362Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0"}}
{"timestamp": "2025-12-14T00:35:15.622634264Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.624364661Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:35:02Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672502169583003", "uid": "de20fb13-2484-4cb0-8265-dff96adf5a9b"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:15.625510734Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "networking-status-aggregator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView,gateway.networking.k8s.io/v1:Gateway,gateway.networking.k8s.io/v1:HTTPRoute,stunner.l7mp.io/v1:UDPRoute]", "pipeline": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.627287917Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.627403119Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.627707382Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.629711469Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.629803568Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.629966823Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.632836565Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.633348762Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.634147561Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.634742851Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.638844596Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:35:02Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672502169583003", "uid": "de20fb13-2484-4cb0-8265-dff96adf5a9b"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "livekitIngress": null, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:15.635832382Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.642102687Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.643212114Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.652227142Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.722784862Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-views-to-k8s"}}
{"timestamp": "2025-12-14T00:35:15.733973613Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0"}}
{"timestamp": "2025-12-14T00:35:15.734112127Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0"}}
{"timestamp": "2025-12-14T00:35:15.734136889Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.734121464Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.735594992Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2"}}
{"timestamp": "2025-12-14T00:35:15.735892165Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.735737739Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0"}}
{"timestamp": "2025-12-14T00:35:15.73615934Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.742568137Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0"}}
{"timestamp": "2025-12-14T00:35:15.742714905Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.742916995Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1"}}
{"timestamp": "2025-12-14T00:35:15.742998081Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.747515946Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3"}}
{"timestamp": "2025-12-14T00:35:15.747682278Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.751013115Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.751132793Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.751420345Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.752234338Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.752476877Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.752951394Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "livekit-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.753847043Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.753927872Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.754020058Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-svc", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.754781636Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.754840749Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.754979683Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-httproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "gateway.networking.k8s.io/v1:HTTPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.756055062Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.756164395Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.756368213Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-udproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "stunner.l7mp.io/v1:UDPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.757173707Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.757312191Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.757525053Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-redis-statefulset", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:StatefulSet<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.75857058Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.75870912Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.758882234Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-redis-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.763365708Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672481390655013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:34:41Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:41Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 0, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:41Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:34:41Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:41Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:35:15.764571653Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.766287371Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.765330574Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672481656479016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:41Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 0, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:41Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:41Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:34:41Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:35:15.765471409Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0"}}
{"timestamp": "2025-12-14T00:35:15.766721458Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.767415875Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-ingress-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.769902414Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.770066288Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.770328843Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-ingress-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.771650521Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.771680712Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.771754927Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "ingress-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.77207767Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515754575013", "uid": "144f8d5f-d679-4ffc-9dd6-32b0926fd450"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:15.777121089Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515755775024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": null, "lbIP": null, "udpRouteReady": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:15.779545929Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.780457113Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.778693877Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.78177904Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.778859119Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.779084121Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.779215319Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.782737513Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.779382744Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.77845204Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.78610446Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515755775024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:35:15.831727972Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-infra-manager"}}
{"timestamp": "2025-12-14T00:35:15.871877527Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.873512154Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.873848114Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-certificate", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:Certificate<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.87543572Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.87547083Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.877655589Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-clusterissuer", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:ClusterIssuer<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.934420465Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.934791667Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.964883311Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.93575857Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0"}}
{"timestamp": "2025-12-14T00:35:15.965809238Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.968311062Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.969224252Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.969964296Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.972179422Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.972218876Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.972313938Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-proxy-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.envoyproxy.io/v1alpha1:EnvoyProxy<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.973060015Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.973092876Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.973189682Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "stunner.l7mp.io/v1:GatewayConfig<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.974459643Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.974779454Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.974966305Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.974481197Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515754575013", "uid": "144f8d5f-d679-4ffc-9dd6-32b0926fd450"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default"}, "spec": {"replicas": 1, "selector": {"matchLabels": {"app": "livekit-server"}}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http"}], "resources": null, "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "volumes": [{"name": "cfg", "secret": {"secretName": "livekit-config"}}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:15.975708193Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:35:15.975732894Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:35:15.975921045Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:35:15.936866753Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0"}}
{"timestamp": "2025-12-14T00:35:15.981446133Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.982483359Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515755775024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:35:15.93712201Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0"}}
{"timestamp": "2025-12-14T00:35:15.984334289Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.936792575Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0"}}
{"timestamp": "2025-12-14T00:35:15.985548615Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.936077824Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0"}}
{"timestamp": "2025-12-14T00:35:15.985637797Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.98697105Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515755775024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"ports": [{"name": "redis", "port": 6379, "targetPort": 6379}], "selector": {"app": "redis"}, "type": "ClusterIP"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:15.979721929Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.979912025Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.980170357Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.980524374Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.98077782Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.980961293Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.983096144Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:15.937061411Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0"}}
{"timestamp": "2025-12-14T00:35:16.022276417Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.023090308Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515754575013", "uid": "144f8d5f-d679-4ffc-9dd6-32b0926fd450"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis"}], "resources": null, "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "volumes": [{"emptyDir": {}, "name": "data"}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.023285343Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515755775024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default"}, "spec": {"parentRefs": [{"name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "namespace": "default"}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:15.936850594Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0"}}
{"timestamp": "2025-12-14T00:35:16.024553452Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.025324628Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515754575013", "uid": "144f8d5f-d679-4ffc-9dd6-32b0926fd450"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": []}}
{"timestamp": "2025-12-14T00:35:16.0285295Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515755775024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-sig", "namespace": "default"}, "spec": {"ports": [{"name": "http", "port": 7880, "targetPort": 7880}], "selector": {"app": "livekit-server"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:15.937080088Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0"}}
{"timestamp": "2025-12-14T00:35:16.031062631Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:15.937108372Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0"}}
{"timestamp": "2025-12-14T00:35:16.031564826Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.032157286Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515755775024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:35:15.936495202Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0"}}
{"timestamp": "2025-12-14T00:35:16.032237244Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.034207597Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515755775024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "port": 7880}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.034324621Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672515755775024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:35:15.979448009Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:35:16.089755676Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0"}}
{"timestamp": "2025-12-14T00:35:16.089803386Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.089882974Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:35:16.122014958Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.122287262Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0"}}
{"timestamp": "2025-12-14T00:35:16.122304885Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.1223461Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:35:16.122424001Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.123310335Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "GatewayConfig", "metadata": {"name": "stunner-gatewayconfig", "namespace": "stunner"}, "spec": {"authType": "static", "password": "pass-1", "realm": "stunner.l7mp.io", "userName": "user-1"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.123555942Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.124383623Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0"}}
{"timestamp": "2025-12-14T00:35:16.124413879Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.128088358Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "stunner-gatewayclass"}, "spec": {"controllerName": "stunner.l7mp.io/gateway-operator", "parametersRef": {"group": "stunner.l7mp.io", "kind": "GatewayConfig", "name": "stunner-gatewayconfig", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.131546452Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "envoy"}, "spec": {"controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parametersRef": {"group": "gateway.envoyproxy.io", "kind": "EnvoyProxy", "name": "public-gw-proxy", "namespace": "envoy-gateway-system"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.135201635Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "ClusterIssuer", "metadata": {"name": "letsencrypt-dns"}, "spec": {"acme": {"email": "sandor@lukacsi.org", "privateKeySecretRef": {"name": "le-account-key"}, "server": "https://acme-v02.api.letsencrypt.org/directory", "solvers": [{"dns01": {"cloudflare": {"apiTokenSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}}}}]}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.179020427Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672516153887004", "uid": "dbf23d45-645b-46be-aee1-a6b559e67874"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:35:16.220233685Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672516186959018", "uid": "5efe6b80-b053-40a2-9a36-22cacb88b172"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.234702481Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0"}}
{"timestamp": "2025-12-14T00:35:16.23483347Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.234702491Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0"}}
{"timestamp": "2025-12-14T00:35:16.235762535Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.23608006Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "name": "udp-gateway", "namespace": "stunner"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.238656536Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0"}}
{"timestamp": "2025-12-14T00:35:16.239139373Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:35:16.240198601Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.envoyproxy.io/v1alpha1", "kind": "EnvoyProxy", "metadata": {"name": "public-gw-proxy", "namespace": "envoy-gateway-system"}, "spec": {"provider": {"kubernetes": {"envoyService": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}}}, "type": "Kubernetes"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.241445053Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "Certificate", "metadata": {"name": "livekit-wildcard-cert", "namespace": "envoy-gateway-system"}, "spec": {"dnsNames": ["*.szakdoga.lukacsi.org"], "issuerRef": {"kind": "ClusterIssuer", "name": "letsencrypt-dns"}, "secretName": "livekit-tls"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.289987647Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672516257647006", "uid": "dd00ce11-ce46-4d31-aa0e-a1648fd8ba33"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "replicas": 0}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.383695918Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672516331311005", "uid": "c10135a3-eddd-493c-86c6-3e518adcf1af"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": null, "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.552331311Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672516511247013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:35:16.580903467Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672516539999024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.580996763Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672516520719013", "uid": "144f8d5f-d679-4ffc-9dd6-32b0926fd450"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": false}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.594334945Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672516539999024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Secret", "metadata": {"labels": {"livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-config", "namespace": "default"}, "stringData": {"livekit.yaml": "keys:\n  __API_KEY__: __API_SECRET__\nlog_level: info\nport: 7880\nredis:\n  address: redis.default.svc.cluster.local:6379\n  password: __REDIS_PASSWORD__\n\nrtc:\n  port_range_end: 60000\n  port_range_start: 50000\n  turn_servers:\n    - credential: __STUNNER_PASSWORD__\n      host: 34.13.38.98\n      port: 3478\n      protocol: udp\n      username: __STUNNER_USERNAME__\n  use_external_ip: false\nturn:\n  enabled: false"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.676443588Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672516344271018", "uid": "5efe6b80-b053-40a2-9a36-22cacb88b172"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "Route is accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "Failed to process route rule 0 backendRef 0: service default/livekit-sig not found.", "observedGeneration": 1, "reason": "BackendNotFound", "status": "False", "type": "ResolvedRefs"}], "controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.793439608Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672516539999024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:35:16.87081855Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672516603919016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:35:16.92285757Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672516720287004", "uid": "dbf23d45-645b-46be-aee1-a6b559e67874"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "at least one backend reference failed to be successfully resolved", "observedGeneration": 1, "reason": "BackendNotFound", "status": "False", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:16.96889992Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672516776543013", "uid": "144f8d5f-d679-4ffc-9dd6-32b0926fd450"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": []}}
{"timestamp": "2025-12-14T00:35:16.984503365Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672516900639024", "uid": "6f44a613-e67d-4596-8066-df9113aafc21"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:35:16.995668873Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672516566095018", "uid": "5efe6b80-b053-40a2-9a36-22cacb88b172"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "Route is accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:35:16Z", "message": "Resolved all the Object references for the Route", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}}]}}, "result": []}}
{"timestamp": "2025-12-14T00:35:17.023971068Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672516937407006", "uid": "dd00ce11-ce46-4d31-aa0e-a1648fd8ba33"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 0, "updateRevision": "redis-7b794dbff5"}}, "result": []}}
{"timestamp": "2025-12-14T00:35:17.065141504Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:35:15Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672516955439013", "uid": "144f8d5f-d679-4ffc-9dd6-32b0926fd450"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"serviceName": "livekit-sig"}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:17.070394782Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672516630639005", "uid": "c10135a3-eddd-493c-86c6-3e518adcf1af"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:35:16Z", "lastUpdateTime": "2025-12-14T00:35:16Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:35:16Z", "lastUpdateTime": "2025-12-14T00:35:16Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:35:17.171143517Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:35:16Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672517045327006", "uid": "dd00ce11-ce46-4d31-aa0e-a1648fd8ba33"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentReplicas": 1, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 1, "updateRevision": "redis-7b794dbff5", "updatedReplicas": 1}}, "result": []}}
