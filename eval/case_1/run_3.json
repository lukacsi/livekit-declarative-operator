{"timestamp": "2025-12-14T00:33:29.724544549Z", "level": "INFO", "logger": "dcontroller.controller-runtime.metrics", "message": "Serving metrics server", "payload": {"bindAddress": ":8080", "secure": false}}
{"timestamp": "2025-12-14T00:33:29.724648115Z", "level": "INFO", "logger": "apiserver", "message": "starting API server", "payload": {"https-addr": "127.0.0.1:31257", "http-addr": "[::]:8443"}}
{"timestamp": "2025-12-14T00:33:29.74997444Z", "level": "INFO", "logger": "dcontroller", "message": "starting server", "payload": {"name": "health probe", "addr": "[::]:8081"}}
{"timestamp": "2025-12-14T00:33:29.750783333Z", "level": "ERROR", "logger": "op-ctrl", "message": "operator manager error", "payload": {"error": "manager already started"}}
{"timestamp": "2025-12-14T00:33:58.1564007Z", "level": "DEBUG", "logger": "events", "message": "dcontroller-manager-cbdd8f5c8-hflx5_e3a51941-5d9b-46db-a36f-03c2691489ef became leader", "payload": {"type": "Normal", "object": {"kind": "Lease", "namespace": "dcontroller-system", "name": "92062b70.l7mp.io", "uid": "8614fc93-3abe-4be3-9252-281c4f148886", "apiVersion": "coordination.k8s.io/v1", "resourceVersion": "1765672438147743022"}, "reason": "LeaderElection"}}
{"timestamp": "2025-12-14T00:33:58.158956575Z", "level": "INFO", "logger": "Starting", "message": "EventSource", "payload": {"controller": "operator-ctrl", "source": "kind source: *v1alpha1.Operator"}}
{"timestamp": "2025-12-14T00:33:58.283216626Z", "level": "INFO", "logger": "Starting", "message": "Controller", "payload": {"controller": "operator-ctrl"}}
{"timestamp": "2025-12-14T00:33:58.283275956Z", "level": "INFO", "logger": "Starting", "message": "workers", "payload": {"controller": "operator-ctrl", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.283757151Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-infra-manager"}}
{"timestamp": "2025-12-14T00:33:58.301035675Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.30112624Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.301247708Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-certificate", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:Certificate<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.301932989Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.301967914Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.303995975Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-clusterissuer", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:ClusterIssuer<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.30689297Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.307098525Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.30740391Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.310627109Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.310813505Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.311638416Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.314663763Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.314813432Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.314928428Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-proxy-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.envoyproxy.io/v1alpha1:EnvoyProxy<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.316890084Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.318050845Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.318967416Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "stunner.l7mp.io/v1:GatewayConfig<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.321248161Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.322031873Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.322248704Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.324230188Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.324376289Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.32467233Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.329294837Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.329871376Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.33477145Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.332604947Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.336216538Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.33741734Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.33820748Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.338996986Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.379619094Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-pool-to-views"}}
{"timestamp": "2025-12-14T00:33:58.401904Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.401971592Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.402123565Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.402904518Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.403041097Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.403264853Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.406813639Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.410646983Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.43000628Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0"}}
{"timestamp": "2025-12-14T00:33:58.430098244Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.434866901Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "Certificate", "metadata": {"name": "livekit-wildcard-cert", "namespace": "envoy-gateway-system"}, "spec": {"dnsNames": ["*.szakdoga.lukacsi.org"], "issuerRef": {"kind": "ClusterIssuer", "name": "letsencrypt-dns"}, "secretName": "livekit-tls"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.435301035Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:33:58.435323951Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.436564131Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "envoy"}, "spec": {"controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parametersRef": {"group": "gateway.envoyproxy.io", "kind": "EnvoyProxy", "name": "public-gw-proxy", "namespace": "envoy-gateway-system"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.453211343Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-status-writer"}}
{"timestamp": "2025-12-14T00:33:58.479788318Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.479862248Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.480125187Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "server-status-from-deploy", "sources": "[apps/v1:Deployment]", "pipeline": "input:Deployment \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.481700923Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.481756941Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.481908395Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "redis-status-from-statefulset", "sources": "[apps/v1:StatefulSet]", "pipeline": "input:StatefulSet \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.488008151Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 4, "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.488088243Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.488207772Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "networking-status-aggregator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView,gateway.networking.k8s.io/v1:Gateway,gateway.networking.k8s.io/v1:HTTPRoute,stunner.l7mp.io/v1:UDPRoute]", "pipeline": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.489858147Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.492041984Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.492324785Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.494046762Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.500241927Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.502367595Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.520870746Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.524143202Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0"}}
{"timestamp": "2025-12-14T00:33:58.529572635Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.558357436Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0"}}
{"timestamp": "2025-12-14T00:33:58.558491396Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.561295617Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0"}}
{"timestamp": "2025-12-14T00:33:58.561540517Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.567638368Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "ClusterIssuer", "metadata": {"name": "letsencrypt-dns"}, "spec": {"acme": {"email": "sandor@lukacsi.org", "privateKeySecretRef": {"name": "le-account-key"}, "server": "https://acme-v02.api.letsencrypt.org/directory", "solvers": [{"dns01": {"cloudflare": {"apiTokenSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}}}}]}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.567980824Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "name": "udp-gateway", "namespace": "stunner"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.526261752Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.526691106Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0"}}
{"timestamp": "2025-12-14T00:33:58.575858875Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.617422156Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:33:47Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672428005871003", "uid": "c38eba91-91ec-4b34-a2e8-4b3c0149b2d0"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.617998108Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0"}}
{"timestamp": "2025-12-14T00:33:58.618022588Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.620638462Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.envoyproxy.io/v1alpha1", "kind": "EnvoyProxy", "metadata": {"name": "public-gw-proxy", "namespace": "envoy-gateway-system"}, "spec": {"provider": {"kubernetes": {"envoyService": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}}}, "type": "Kubernetes"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.622727162Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0"}}
{"timestamp": "2025-12-14T00:33:58.623597478Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.626865593Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "GatewayConfig", "metadata": {"name": "stunner-gatewayconfig", "namespace": "stunner"}, "spec": {"authType": "static", "password": "pass-1", "realm": "stunner.l7mp.io", "userName": "user-1"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.631924959Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:33:58.631960961Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.527435223Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.654439309Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "stunner-gatewayclass"}, "spec": {"controllerName": "stunner.l7mp.io/gateway-operator", "parametersRef": {"group": "stunner.l7mp.io", "kind": "GatewayConfig", "name": "stunner-gatewayconfig", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.658668263Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0"}}
{"timestamp": "2025-12-14T00:33:58.659830391Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.663112071Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.667125713Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:33:47Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672428005871003", "uid": "c38eba91-91ec-4b34-a2e8-4b3c0149b2d0"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "livekitIngress": null, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.668674183Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.750225118Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-views-to-k8s"}}
{"timestamp": "2025-12-14T00:33:58.757002544Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.760112098Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.760312123Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.760382252Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.840152842Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.840195501Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.84044079Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.850317199Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.850361907Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.850433484Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "livekit-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.851149035Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.851173918Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.851235466Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-svc", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.852359677Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.852433727Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.85258829Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-httproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "gateway.networking.k8s.io/v1:HTTPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.853491281Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.853578853Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.85374825Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-udproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "stunner.l7mp.io/v1:UDPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.854786416Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.854886407Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.855081801Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-redis-statefulset", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:StatefulSet<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.855819865Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.855909729Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.856029339Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-redis-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.856793572Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.856909563Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.857072538Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-ingress-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.858421861Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.858539785Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.858870734Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-ingress-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.8605133Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:58.860720101Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:58.860943765Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "ingress-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:58.863083064Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0"}}
{"timestamp": "2025-12-14T00:33:58.863172397Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.863868998Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2"}}
{"timestamp": "2025-12-14T00:33:58.863982051Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.864130903Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0"}}
{"timestamp": "2025-12-14T00:33:58.864186023Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.867585667Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0"}}
{"timestamp": "2025-12-14T00:33:58.868324518Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0"}}
{"timestamp": "2025-12-14T00:33:58.868406775Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.867784989Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.868850564Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1"}}
{"timestamp": "2025-12-14T00:33:58.869131554Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.870006788Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.870560248Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.872338348Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.872910659Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.874134585Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.874434288Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.874890919Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.875902245Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.876945295Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.877221762Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:58.878381476Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672407340767013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:33:27Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:27Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 0, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:27Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:33:27Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:27Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:58.882343064Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672407759775016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:27Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 0, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:27Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:27Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:33:27Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:58.894573109Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438875487024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": null, "lbIP": null, "udpRouteReady": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.917211308Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438875487024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:58.917434398Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3"}}
{"timestamp": "2025-12-14T00:33:58.917448263Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.922709642Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438890015013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.92810716Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0"}}
{"timestamp": "2025-12-14T00:33:58.928141115Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.973367379Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0"}}
{"timestamp": "2025-12-14T00:33:58.973425548Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.974132839Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0"}}
{"timestamp": "2025-12-14T00:33:58.974615527Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.974896615Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0"}}
{"timestamp": "2025-12-14T00:33:58.974909876Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.974980062Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0"}}
{"timestamp": "2025-12-14T00:33:58.974990227Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.975987455Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438875487024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-sig", "namespace": "default"}, "spec": {"ports": [{"name": "http", "port": 7880, "targetPort": 7880}], "selector": {"app": "livekit-server"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.982124041Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438875487024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default"}, "spec": {"parentRefs": [{"name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "namespace": "default"}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.982052573Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438890015013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default"}, "spec": {"replicas": 1, "selector": {"matchLabels": {"app": "livekit-server"}}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http"}], "resources": null, "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "volumes": [{"name": "cfg", "secret": {"secretName": "livekit-config"}}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.984779118Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438875487024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"ports": [{"name": "redis", "port": 6379, "targetPort": 6379}], "selector": {"app": "redis"}, "type": "ClusterIP"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:58.985377428Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0"}}
{"timestamp": "2025-12-14T00:33:58.985398784Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:58.988006108Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438875487024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.081046364Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0"}}
{"timestamp": "2025-12-14T00:33:59.081143084Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:59.08259262Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438875487024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "port": 7880}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.082736007Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0"}}
{"timestamp": "2025-12-14T00:33:59.08275191Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:59.085791515Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438875487024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.08881365Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0"}}
{"timestamp": "2025-12-14T00:33:59.089036929Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:59.088971741Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0"}}
{"timestamp": "2025-12-14T00:33:59.089244847Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:59.09173615Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438890015013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.088947471Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0"}}
{"timestamp": "2025-12-14T00:33:59.09199151Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:59.092698244Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438875487024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.09101047Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672438890015013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis"}], "resources": null, "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "volumes": [{"emptyDir": {}, "name": "data"}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.142185323Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672439114127004", "uid": "882f5a8e-3b90-496e-9940-d2207f2a1781"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.198746818Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672439167455005", "uid": "e23bfa76-8ccd-48ce-9f5b-4869b4b99efd"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": null, "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.283720132Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672439236783018", "uid": "034fcc8b-8ea9-46c5-afb4-92b821cfccdb"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.352343003Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672439273871006", "uid": "5c7df76e-b04d-4953-9f9d-607233721806"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "replicas": 0}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.368878466Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439330319013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"serviceName": "livekit-sig"}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.390501428Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672439312399005", "uid": "e23bfa76-8ccd-48ce-9f5b-4869b4b99efd"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.453121182Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439412799024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Secret", "metadata": {"labels": {"livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-config", "namespace": "default"}, "stringData": {"livekit.yaml": "keys:\n  __API_KEY__: __API_SECRET__\nlog_level: info\nport: 7880\nredis:\n  address: redis.default.svc.cluster.local:6379\n  password: __REDIS_PASSWORD__\n\nrtc:\n  port_range_end: 60000\n  port_range_start: 50000\n  turn_servers:\n    - credential: __STUNNER_PASSWORD__\n      host: 34.13.38.98\n      port: 3478\n      protocol: udp\n      username: __STUNNER_USERNAME__\n  use_external_ip: false\nturn:\n  enabled: false"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.456438372Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439412799024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.458799808Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672439416351013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.468432628Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439412799024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.48102753Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672439339535018", "uid": "034fcc8b-8ea9-46c5-afb4-92b821cfccdb"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "Route is accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "Resolved all the Object references for the Route", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.577652555Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672439529295016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.619138511Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439515999013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"serviceName": "livekit-sig"}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.665859598Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439597871013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": false}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.852867158Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672439616911004", "uid": "882f5a8e-3b90-496e-9940-d2207f2a1781"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "message": "at least one backend reference failed to be successfully resolved", "observedGeneration": 1, "reason": "BackendNotFound", "status": "False", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.860373312Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439642431024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:59.917449199Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439642431024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:33:59.922333771Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672439790431006", "uid": "5c7df76e-b04d-4953-9f9d-607233721806"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 0, "updateRevision": "redis-7b794dbff5"}}, "result": []}}
{"timestamp": "2025-12-14T00:34:00.055761391Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672439977647006", "uid": "5c7df76e-b04d-4953-9f9d-607233721806"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentReplicas": 1, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 1, "updateRevision": "redis-7b794dbff5", "updatedReplicas": 1}}, "result": []}}
{"timestamp": "2025-12-14T00:34:00.068525599Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672440000431024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:34:00.070981312Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672440000431024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:00.15421882Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672439440351005", "uid": "e23bfa76-8ccd-48ce-9f5b-4869b4b99efd"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "observedGeneration": 1, "unavailableReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:00.35570849Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672440014127005", "uid": "e23bfa76-8ccd-48ce-9f5b-4869b4b99efd"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "observedGeneration": 1, "replicas": 1, "unavailableReplicas": 1, "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:00.393203383Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439642431024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:34:00.395544816Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672440000431024", "uid": "f8dc24eb-f917-49dd-b4ae-65a3e04cdb90"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:34:00.436991339Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672439981663013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": []}}
{"timestamp": "2025-12-14T00:34:00.447738393Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672440090063013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "serviceName": "livekit-sig"}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:00.583280682Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672440275359013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "serviceName": "livekit-sig"}}, "result": []}}
{"timestamp": "2025-12-14T00:34:00.587392335Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672440340015013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "redis": {"message": "Replicas: 0/1", "ready": false}, "serviceName": "livekit-sig"}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": false}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:00.953644133Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672440469999013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "redis": {"message": "Replicas: 0/1", "ready": false}, "serviceName": "livekit-sig"}}, "result": []}}
{"timestamp": "2025-12-14T00:34:00.955623714Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672440543231013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:01.244751062Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672441209167006", "uid": "5c7df76e-b04d-4953-9f9d-607233721806"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 1, "collisionCount": 0, "currentReplicas": 1, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "readyReplicas": 1, "replicas": 1, "updateRevision": "redis-7b794dbff5", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"redis": {"message": "Replicas: 1/1", "ready": true}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:01.336250689Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672441315023013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "redis": {"message": "Replicas: 1/1", "ready": true}, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": true}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:33:59Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:02.260498514Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672442233023005", "uid": "e23bfa76-8ccd-48ce-9f5b-4869b4b99efd"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:02Z", "lastUpdateTime": "2025-12-14T00:34:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:34:02Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "observedGeneration": 1, "readyReplicas": 1, "replicas": 1, "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:02Z", "lastUpdateTime": "2025-12-14T00:34:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:34:02Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:02.327875189Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:58Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672442306383013", "uid": "105ae8bd-9593-48d1-a18b-b01f576aee54"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:02Z", "lastUpdateTime": "2025-12-14T00:34:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:34:02Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "redis": {"message": "Replicas: 1/1", "ready": true}, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": true}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:34:02Z", "lastUpdateTime": "2025-12-14T00:34:02Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:59Z", "lastUpdateTime": "2025-12-14T00:34:02Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:34:02.586090064Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672442539375016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:02Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:34:02Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:02Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:34:02Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:34:02.668392542Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:59Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672442563583004", "uid": "882f5a8e-3b90-496e-9940-d2207f2a1781"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:34:02Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:34:02Z", "message": "all backend references successfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": []}}
