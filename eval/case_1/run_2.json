{"timestamp": "2025-12-14T00:32:53.087099101Z", "level": "INFO", "logger": "dcontroller.controller-runtime.metrics", "message": "Serving metrics server", "payload": {"bindAddress": ":8080", "secure": false}}
{"timestamp": "2025-12-14T00:32:53.087294052Z", "level": "INFO", "logger": "dcontroller", "message": "starting server", "payload": {"name": "health probe", "addr": "[::]:8081"}}
{"timestamp": "2025-12-14T00:32:53.08757808Z", "level": "ERROR", "logger": "op-ctrl", "message": "operator manager error", "payload": {"error": "manager already started"}}
{"timestamp": "2025-12-14T00:32:53.08769569Z", "level": "INFO", "logger": "apiserver", "message": "starting API server", "payload": {"https-addr": "127.0.0.1:25024", "http-addr": "[::]:8443"}}
{"timestamp": "2025-12-14T00:33:20.193375522Z", "level": "DEBUG", "logger": "events", "message": "dcontroller-manager-6dcfcc5744-j6gzv_18d7bec2-0668-4671-8689-28957d06b4a6 became leader", "payload": {"type": "Normal", "object": {"kind": "Lease", "namespace": "dcontroller-system", "name": "92062b70.l7mp.io", "uid": "8614fc93-3abe-4be3-9252-281c4f148886", "apiVersion": "coordination.k8s.io/v1", "resourceVersion": "1765672400132671022"}, "reason": "LeaderElection"}}
{"timestamp": "2025-12-14T00:33:20.195091055Z", "level": "INFO", "logger": "Starting", "message": "EventSource", "payload": {"controller": "operator-ctrl", "source": "kind source: *v1alpha1.Operator"}}
{"timestamp": "2025-12-14T00:33:20.444905743Z", "level": "INFO", "logger": "Starting", "message": "Controller", "payload": {"controller": "operator-ctrl"}}
{"timestamp": "2025-12-14T00:33:20.444983213Z", "level": "INFO", "logger": "Starting", "message": "workers", "payload": {"controller": "operator-ctrl", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.44518326Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-views-to-k8s"}}
{"timestamp": "2025-12-14T00:33:20.494783834Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.49483603Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.495139653Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.495943325Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.496051437Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.49618082Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "livekit-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.496962811Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.497047612Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.497191248Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-svc", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.497976111Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.498075276Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.49823306Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-httproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "gateway.networking.k8s.io/v1:HTTPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.499056079Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.499150249Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.499512372Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-udproute", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "stunner.l7mp.io/v1:UDPRoute<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.500326011Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.500572312Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.500874186Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-redis-statefulset", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:StatefulSet<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.502600646Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.502638704Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.502701141Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-redis-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.504266937Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.504376717Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "graph": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.504818627Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "server-view-to-ingress-deployment", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c3\u2192\u03c0", "target": "apps/v1:Deployment<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.506210714Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.506248706Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.506306501Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "networking-view-to-ingress-service", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Service<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.509635228Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.509773397Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "graph": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.510054608Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "name": "ingress-config-generator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c3\u2192\u03c0", "target": "core/v1:Secret<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.513751356Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.514222923Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.515001289Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.516834578Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.517892553Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.518000479Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.518271956Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.518287941Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.518450527Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.519454061Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.605855968Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-infra-manager"}}
{"timestamp": "2025-12-14T00:33:20.615218122Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0"}}
{"timestamp": "2025-12-14T00:33:20.615266154Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.615358388Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0"}}
{"timestamp": "2025-12-14T00:33:20.615365794Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.615409763Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0"}}
{"timestamp": "2025-12-14T00:33:20.615415585Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.61824769Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0"}}
{"timestamp": "2025-12-14T00:33:20.619666894Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.619411526Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0"}}
{"timestamp": "2025-12-14T00:33:20.620107322Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.619480071Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0"}}
{"timestamp": "2025-12-14T00:33:20.620374339Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.619561388Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0"}}
{"timestamp": "2025-12-14T00:33:20.620883536Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.619603399Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0"}}
{"timestamp": "2025-12-14T00:33:20.620919822Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.618891671Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0"}}
{"timestamp": "2025-12-14T00:33:20.621028515Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.620020488Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0"}}
{"timestamp": "2025-12-14T00:33:20.621775457Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.651736854Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.652206981Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.661850079Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-certificate", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:Certificate<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.663961084Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.66402928Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.664479539Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-clusterissuer", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "cert-manager.io/v1:ClusterIssuer<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.666719222Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.666768925Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.669979665Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.680864259Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.6811742Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.681581089Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.686740173Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.686921609Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.687241904Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-envoy-proxy-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.envoyproxy.io/v1alpha1:EnvoyProxy<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.690467285Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.69145579Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.692666378Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-config", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "stunner.l7mp.io/v1:GatewayConfig<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.731098209Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.731199072Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.73133877Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gatewayclass", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:GatewayClass<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.733018765Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "num-inputs": 1, "graph": "input:LiveKitInfrastructure \u2192 \u03c3 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.733095597Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "graph": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0"}}
{"timestamp": "2025-12-14T00:33:20.733193948Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-infra-manager", "name": "infra-to-stunner-gateway", "sources": "[lukacsi.org/v1alpha1:LiveKitInfrastructure]", "pipeline": "input:LiveKitInfrastructure \u2192 \u03c3\u2192\u03c0", "target": "gateway.networking.k8s.io/v1:Gateway<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.738477708Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.739212Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.739511226Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.740108253Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.740514014Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.741009472Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.741474486Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.742015062Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.788926489Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-pool-to-views"}}
{"timestamp": "2025-12-14T00:33:20.812190894Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.812233277Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.812640619Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.813366518Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 1, "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.81339672Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "input:LiveKitPool \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.8135064Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-pool-to-views", "name": "pool-to-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitPool]", "pipeline": "input:LiveKitPool \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Updater>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.815055345Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.816538368Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.840917686Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0"}}
{"timestamp": "2025-12-14T00:33:20.841177037Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.847142042Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-proxy-config", "target": "gateway.envoyproxy.io/v1alpha1, Kind=EnvoyProxy", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.envoyproxy.io/v1alpha1", "kind": "EnvoyProxy", "metadata": {"name": "public-gw-proxy", "namespace": "envoy-gateway-system"}, "spec": {"provider": {"kubernetes": {"envoyService": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}}}, "type": "Kubernetes"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.842899468Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0"}}
{"timestamp": "2025-12-14T00:33:20.8494605Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.851032897Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-certificate", "target": "cert-manager.io/v1, Kind=Certificate", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "Certificate", "metadata": {"name": "livekit-wildcard-cert", "namespace": "envoy-gateway-system"}, "spec": {"dnsNames": ["*.szakdoga.lukacsi.org"], "issuerRef": {"kind": "ClusterIssuer", "name": "letsencrypt-dns"}, "secretName": "livekit-tls"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.842982798Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:33:20.853192024Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.854875674Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "stunner-gatewayclass"}, "spec": {"controllerName": "stunner.l7mp.io/gateway-operator", "parametersRef": {"group": "stunner.l7mp.io", "kind": "GatewayConfig", "name": "stunner-gatewayconfig", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.843665486Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0"}}
{"timestamp": "2025-12-14T00:33:20.856174936Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.85818721Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-config", "target": "stunner.l7mp.io/v1, Kind=GatewayConfig", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "GatewayConfig", "metadata": {"name": "stunner-gatewayconfig", "namespace": "stunner"}, "spec": {"authType": "static", "password": "pass-1", "realm": "stunner.l7mp.io", "userName": "user-1"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.843750079Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0"}}
{"timestamp": "2025-12-14T00:33:20.859134583Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.861654405Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-stunner-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "name": "udp-gateway", "namespace": "stunner"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.844200091Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0"}}
{"timestamp": "2025-12-14T00:33:20.863888976Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.865554254Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-clusterissuer", "target": "cert-manager.io/v1, Kind=ClusterIssuer", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "cert-manager.io/v1", "kind": "ClusterIssuer", "metadata": {"name": "letsencrypt-dns"}, "spec": {"acme": {"email": "sandor@lukacsi.org", "privateKeySecretRef": {"name": "le-account-key"}, "server": "https://acme-v02.api.letsencrypt.org/directory", "solvers": [{"dns01": {"cloudflare": {"apiTokenSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}}}}]}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.845669043Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0"}}
{"timestamp": "2025-12-14T00:33:20.867207648Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.869243492Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gateway", "target": "gateway.networking.k8s.io/v1, Kind=Gateway", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.842802178Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0"}}
{"timestamp": "2025-12-14T00:33:20.870733664Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.872136053Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-infra-manager", "controller": "infra-to-envoy-gatewayclass", "target": "gateway.networking.k8s.io/v1, Kind=GatewayClass", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitInfrastructure", "metadata": {"annotations": {"meta.helm.sh/release-name": "livekit-operator", "meta.helm.sh/release-namespace": "default"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "labels": {"app.kubernetes.io/managed-by": "Helm", "livekit.lukacsi.org/certmanager": "enabled", "livekit.lukacsi.org/envoy": "enabled", "livekit.lukacsi.org/stunner": "enabled"}, "name": "default-infra", "resourceVersion": "1765636018309151021", "uid": "55357800-3c50-4fd2-ad3d-fd3c73dfcfed"}, "spec": {"certManager": {"cloudflareSecretRef": {"key": "api-token", "name": "cloudflare-api-token-secret"}, "email": "sandor@lukacsi.org"}, "domain": "*.szakdoga.lukacsi.org", "envoy": {"annotations": {"cloud.google.com/l4-rbs": "enabled", "networking.gke.io/load-balancer-ip-addresses": "envoy-ip"}, "tlsSecretName": "livekit-tls"}, "stunner": {"password": "pass-1", "realm": "stunner.l7mp.io", "username": "user-1"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "GatewayClass", "metadata": {"name": "envoy"}, "spec": {"controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parametersRef": {"group": "gateway.envoyproxy.io", "kind": "EnvoyProxy", "name": "public-gw-proxy", "namespace": "envoy-gateway-system"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.874422942Z", "level": "INFO", "logger": "op-ctrl", "message": "reconciling", "payload": {"request": "/livekit-declarative-status-writer"}}
{"timestamp": "2025-12-14T00:33:20.904644745Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.904695416Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:Deployment \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.904909887Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "server-status-from-deploy", "sources": "[apps/v1:Deployment]", "pipeline": "input:Deployment \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.907111902Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "num-inputs": 1, "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.907283062Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "graph": "input:StatefulSet \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.907541687Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "redis-status-from-statefulset", "sources": "[apps/v1:StatefulSet]", "pipeline": "input:StatefulSet \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitServerView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.930409123Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0"}}
{"timestamp": "2025-12-14T00:33:20.930475347Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.930601206Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0"}}
{"timestamp": "2025-12-14T00:33:20.930997875Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:20.936918627Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:33:10Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672390863839003", "uid": "4500ba9f-d3ed-4a4c-a34f-fd812bdf6108"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.938490621Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-pool-to-views", "controller": "pool-to-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"annotations": {}, "creationTimestamp": "2025-12-14T00:33:10Z", "generation": 1, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672390863839003", "uid": "4500ba9f-d3ed-4a4c-a34f-fd812bdf6108"}, "spec": {"gateways": {"host": "livekit.szakdoga.lukacsi.org", "http": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "udp": {"keys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}, "name": "udp-gateway", "namespace": "stunner", "port": 3478}}, "livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "livekitIngress": null, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:20.934605011Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "num-inputs": 4, "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.940684245Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "graph": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.941464283Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "networking-status-aggregator", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView,gateway.networking.k8s.io/v1:Gateway,gateway.networking.k8s.io/v1:HTTPRoute,stunner.l7mp.io/v1:UDPRoute]", "pipeline": "(input:LiveKitNetworkingView, input:Gateway, input:HTTPRoute, input:UDPRoute) \u2192 \u22c8_4 \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitNetworkingView<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.942739968Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.942782309Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitServerView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.942941009Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-server-view", "sources": "[lukacsi.org/v1alpha1:LiveKitServerView]", "pipeline": "input:LiveKitServerView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.945085175Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline initialization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "num-inputs": 1, "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.945125017Z", "level": "INFO", "logger": "operator.pipeline", "message": "pipeline optimization ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "graph": "input:LiveKitNetworkingView \u2192 \u03c0"}}
{"timestamp": "2025-12-14T00:33:20.945250791Z", "level": "INFO", "logger": "operator.controller", "message": "controller ready", "payload": {"operator": "livekit-declarative-status-writer", "name": "pool-status-from-networking-view", "sources": "[lukacsi.org/v1alpha1:LiveKitNetworkingView]", "pipeline": "input:LiveKitNetworkingView \u2192 \u03c0", "target": "lukacsi.org/v1alpha1:LiveKitPool<type:Patcher>", "errors": ""}}
{"timestamp": "2025-12-14T00:33:20.950632491Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.952000607Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.954947363Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.95557633Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.956450149Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.956822248Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.962664408Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:20.963769747Z", "level": "INFO", "logger": "operator", "message": "Starting EventSource", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "source": "kind source: *unstructured.Unstructured"}}
{"timestamp": "2025-12-14T00:33:21.161902849Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0"}}
{"timestamp": "2025-12-14T00:33:21.161959006Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:21.162053231Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0"}}
{"timestamp": "2025-12-14T00:33:21.162090697Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:21.167834063Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-svc", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401079919024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-sig", "namespace": "default"}, "spec": {"ports": [{"name": "http", "port": 7880, "targetPort": 7880}], "selector": {"app": "livekit-server"}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.168004595Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0"}}
{"timestamp": "2025-12-14T00:33:21.168042645Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:21.17014302Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401079919024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": null, "lbIP": null, "udpRouteReady": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.171548355Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2"}}
{"timestamp": "2025-12-14T00:33:21.171580849Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-2", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:21.174125639Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1"}}
{"timestamp": "2025-12-14T00:33:21.174226685Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-1", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:21.175896894Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672369227935013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:32:49Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:32:49Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 0, "conditions": [{"lastTransitionTime": "2025-12-14T00:32:49Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:32:49Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:32:49Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.177803282Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672369485087016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:32:49Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 0, "conditions": [{"lastTransitionTime": "2025-12-14T00:32:49Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:32:49Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:32:49Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.174044587Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401078879013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.180359269Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-udproute", "target": "stunner.l7mp.io/v1, Kind=UDPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401079919024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default"}, "spec": {"parentRefs": [{"name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "namespace": "default"}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.183228964Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-ingress-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401078879013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.183435092Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3"}}
{"timestamp": "2025-12-14T00:33:21.183500785Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-3", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:21.183642018Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0"}}
{"timestamp": "2025-12-14T00:33:21.183698136Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:21.184442851Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401079919024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.185179717Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-httproute", "target": "gateway.networking.k8s.io/v1, Kind=HTTPRoute", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401079919024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"name": "livekit-sig", "port": 7880}]}]}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.187528727Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-redis-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401079919024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Service", "metadata": {"labels": {"livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"ports": [{"name": "redis", "port": 6379, "targetPort": 6379}], "selector": {"app": "redis"}, "type": "ClusterIP"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.192467862Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "ingress-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401079919024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.197529712Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "networking-view-to-ingress-service", "target": "/v1, Kind=Service", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401079919024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.198317943Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401079919024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.232285773Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-redis-statefulset", "target": "apps/v1, Kind=StatefulSet", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401078879013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default"}, "spec": {"selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis"}], "resources": null, "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "volumes": [{"emptyDir": {}, "name": "data"}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.236417881Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "server-view-to-deployment", "target": "apps/v1, Kind=Deployment", "event-type": "Added", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401078879013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}}, "result": [{"Object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default"}, "spec": {"replicas": 1, "selector": {"matchLabels": {"app": "livekit-server"}}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http"}], "resources": null, "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "volumes": [{"name": "cfg", "secret": {"secretName": "livekit-config"}}]}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.272344174Z", "level": "INFO", "logger": "operator", "message": "Starting Controller", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0"}}
{"timestamp": "2025-12-14T00:33:21.272463814Z", "level": "INFO", "logger": "operator", "message": "Starting workers", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy-0", "worker count": 1}}
{"timestamp": "2025-12-14T00:33:21.323550425Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672401303199004", "uid": "19ed6261-e416-48d2-a350-bb506db75dba"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.337141266Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Added", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672401310095018", "uid": "188046e7-176f-464e-8994-093c77d63123"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.465518165Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672401420431006", "uid": "531483f3-a95e-4ed3-a75f-ed043815d56b"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "replicas": 0}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.535790803Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Added", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672401476079005", "uid": "2f8b34a7-e8ba-408a-bb07-1757a689c599"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": null, "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.546705675Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401454479024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.551371264Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672401373471018", "uid": "188046e7-176f-464e-8994-093c77d63123"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "Route is accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "Failed to process route rule 0 backendRef 0: service default/livekit-sig not found.", "observedGeneration": 1, "reason": "BackendNotFound", "status": "False", "type": "ResolvedRefs"}], "controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.554502616Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401454479024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "v1", "kind": "Secret", "metadata": {"labels": {"livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-config", "namespace": "default"}, "stringData": {"livekit.yaml": "keys:\n  __API_KEY__: __API_SECRET__\nlog_level: info\nport: 7880\nredis:\n  address: redis.default.svc.cluster.local:6379\n  password: __REDIS_PASSWORD__\n\nrtc:\n  port_range_end: 60000\n  port_range_start: 50000\n  turn_servers:\n    - credential: __STUNNER_PASSWORD__\n      host: 34.13.38.98\n      port: 3478\n      protocol: udp\n      username: __STUNNER_USERNAME__\n  use_external_ip: false\nturn:\n  enabled: false"}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.568956261Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401454479024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": false, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.635521269Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "public-gw", "namespace": "envoy-gateway-system", "resourceVersion": "1765672401485567013", "uid": "3b171fb6-ce48-4300-9db8-ddd4e3952756"}, "spec": {"gatewayClassName": "envoy", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "hostname": "*.szakdoga.lukacsi.org", "name": "https", "port": 443, "protocol": "HTTPS", "tls": {"certificateRefs": [{"group": "", "kind": "Secret", "name": "livekit-tls"}], "mode": "Terminate"}}]}, "status": {"addresses": [{"type": "IPAddress", "value": "35.189.80.131"}], "conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "The Gateway has been scheduled by Envoy Gateway", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "Address assigned to the Gateway, 1/1 envoy replicas available", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "Sending translated listener configuration to the data plane", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "Listener has been successfully translated", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "Listener references have been resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "https", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "HTTPRoute"}, {"group": "gateway.networking.k8s.io", "kind": "GRPCRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.831782979Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401597311013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": false}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:21.892165751Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672401834255016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:21.902928652Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401838735024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:33:22.033848961Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "HTTPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "envoy", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit", "namespace": "default", "resourceVersion": "1765672401591919018", "uid": "188046e7-176f-464e-8994-093c77d63123"}, "spec": {"hostnames": ["livekit.szakdoga.lukacsi.org"], "parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "port": 7880, "weight": 1}], "matches": [{"path": {"type": "PathPrefix", "value": "/"}}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "Route is accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "Resolved all the Object references for the Route", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "gateway.envoyproxy.io/gatewayclass-controller", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "public-gw", "namespace": "envoy-gateway-system"}}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:22.130416995Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672401824415005", "uid": "2f8b34a7-e8ba-408a-bb07-1757a689c599"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:22.134993328Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672401905583004", "uid": "19ed6261-e416-48d2-a350-bb506db75dba"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "message": "at least one backend reference failed to be successfully resolved", "observedGeneration": 1, "reason": "BackendNotFound", "status": "False", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:22.162871699Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672402047135006", "uid": "531483f3-a95e-4ed3-a75f-ed043815d56b"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 0, "updateRevision": "redis-7b794dbff5"}}, "result": []}}
{"timestamp": "2025-12-14T00:33:22.167954734Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401838735024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:22.334046116Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672402263199006", "uid": "531483f3-a95e-4ed3-a75f-ed043815d56b"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 0, "collisionCount": 0, "currentReplicas": 1, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "replicas": 1, "updateRevision": "redis-7b794dbff5", "updatedReplicas": 1}}, "result": []}}
{"timestamp": "2025-12-14T00:33:22.559867017Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672402480719024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:33:22.560488456Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401838735024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": false}}, "result": []}}
{"timestamp": "2025-12-14T00:33:22.562203267Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-views-to-k8s", "controller": "livekit-config-generator", "target": "/v1, Kind=Secret", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672402480719024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": []}}
{"timestamp": "2025-12-14T00:33:22.606739691Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672401942879005", "uid": "2f8b34a7-e8ba-408a-bb07-1757a689c599"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "observedGeneration": 1, "unavailableReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "readyReplicas": null, "replicas": null, "serviceName": "livekit-sig", "updatedReplicas": null}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:22.609493608Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401841119013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"redis": {"message": "Replicas: 0/1", "ready": false}}}, "result": []}}
{"timestamp": "2025-12-14T00:33:22.621792692Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672401976143013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"serviceName": "livekit-sig"}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": null, "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:22.802296354Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-networking-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitNetworkingView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672402480719024", "uid": "7ebc5a4c-e48d-4eff-914a-4ed8b4ebc33c"}, "spec": {"host": "livekit.szakdoga.lukacsi.org", "httpGatewayRef": {"name": "public-gw", "namespace": "envoy-gateway-system"}, "pool": "livekit-default-pool", "redis": {"mode": "managed", "port": 6379, "url": "redis.default.svc.cluster.local:6379"}, "turnPort": 3478, "udpGatewayRef": {"name": "udp-gateway", "namespace": "stunner"}}, "status": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"networking": {"httpRouteReady": true, "lbIP": "34.13.38.98", "udpRouteReady": true}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:22.835600129Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672402483439005", "uid": "2f8b34a7-e8ba-408a-bb07-1757a689c599"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:22Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "observedGeneration": 1, "replicas": 1, "unavailableReplicas": 1, "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": null, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:22Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:22.942549064Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672402443071013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"serviceName": "livekit-sig"}}, "result": []}}
{"timestamp": "2025-12-14T00:33:22.945872764Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672402576271013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "redis": {"message": "Replicas: 0/1", "ready": false}, "serviceName": "livekit-sig"}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": false}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:23.231703627Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672402738319013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}], "redis": {"message": "Replicas: 0/1", "ready": false}, "serviceName": "livekit-sig"}}, "result": []}}
{"timestamp": "2025-12-14T00:33:23.242742883Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672402802783013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "serviceName": "livekit-sig"}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Created new replica set \"livekit-server-59766d68b9\"", "reason": "NewReplicaSetCreated", "status": "True", "type": "Progressing"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}], "readyReplicas": null, "replicas": null}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:23.310640946Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672402907039013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:22Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:22Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:24.052755909Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "server-status-from-deploy", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "Deployment", "metadata": {"annotations": {"deployment.kubernetes.io/revision": "1", "livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-server", "namespace": "default", "resourceVersion": "1765672404020431005", "uid": "2f8b34a7-e8ba-408a-bb07-1757a689c599"}, "spec": {"progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "livekit-server"}}, "strategy": {"rollingUpdate": {"maxSurge": "25%", "maxUnavailable": "25%"}, "type": "RollingUpdate"}, "template": {"metadata": {"annotations": {"livekit.lukacsi.org/redis": "managed"}, "creationTimestamp": null, "labels": {"app": "livekit-server", "livekit.lukacsi.org/component": "livekit", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["cp /etc/livekit/livekit.yaml /tmp/livekit.yaml\nsed -i \"s/__API_KEY__/$API_KEY/g\" /tmp/livekit.yaml\nsed -i \"s/__API_SECRET__/$API_SECRET/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_USERNAME__/$STUNNER_USERNAME/g\" /tmp/livekit.yaml\nsed -i \"s/__STUNNER_PASSWORD__/$STUNNER_PASSWORD/g\" /tmp/livekit.yaml\nsed -i \"s/__REDIS_PASSWORD__/$REDIS_PASSWORD/g\" /tmp/livekit.yaml\n/livekit-server --config /tmp/livekit.yaml\n"], "command": ["/bin/sh", "-c"], "env": [{"name": "API_KEY", "valueFrom": {"secretKeyRef": {"key": "api-key", "name": "livekit-auth"}}}, {"name": "API_SECRET", "valueFrom": {"secretKeyRef": {"key": "api-secret", "name": "livekit-auth"}}}, {"name": "STUNNER_USERNAME", "valueFrom": {"secretKeyRef": {"key": "stunner-username", "name": "livekit-auth"}}}, {"name": "STUNNER_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "stunner-password", "name": "livekit-auth"}}}, {"name": "REDIS_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "redis-password", "name": "livekit-auth"}}}], "image": "livekit/livekit-server:v1.8.0", "imagePullPolicy": "IfNotPresent", "name": "livekit", "ports": [{"containerPort": 7880, "name": "http", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/etc/livekit", "name": "cfg", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"name": "cfg", "secret": {"defaultMode": 420, "secretName": "livekit-config"}}]}}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:23Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "observedGeneration": 1, "readyReplicas": 1, "replicas": 1, "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:23Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:24.062129384Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "redis-status-from-statefulset", "target": "lukacsi.org/v1alpha1, Kind=LiveKitServerView", "event-type": "Updated", "object": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "redis", "namespace": "default", "resourceVersion": "1765672404025423006", "uid": "531483f3-a95e-4ed3-a75f-ed043815d56b"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis", "livekit.lukacsi.org/component": "redis", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}}, "spec": {"containers": [{"args": ["--appendonly", "yes"], "image": "redis:7-alpine", "imagePullPolicy": "IfNotPresent", "name": "redis", "ports": [{"containerPort": 6379, "name": "redis", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/data", "name": "data"}]}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [{"emptyDir": {}, "name": "data"}]}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}}, "status": {"availableReplicas": 1, "collisionCount": 0, "currentReplicas": 1, "currentRevision": "redis-7b794dbff5", "observedGeneration": 1, "readyReplicas": 1, "replicas": 1, "updateRevision": "redis-7b794dbff5", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"redis": {"message": "Replicas: 1/1", "ready": true}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:24.17455573Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672404152719013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:23Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": null}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:23Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:24.261465698Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672404197183013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"availableReplicas": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:23Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:23Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing"}], "readyReplicas": 1, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": []}}
{"timestamp": "2025-12-14T00:33:24.272714278Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "pool-status-from-server-view", "target": "lukacsi.org/v1alpha1, Kind=LiveKitPool", "event-type": "Updated", "object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitServerView", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/pool": "livekit-default-pool"}, "name": "livekit-default-pool", "namespace": "default", "resourceVersion": "1765672404249007013", "uid": "ed8a768d-8ff0-4db5-9f64-6cc1d39e6a2e"}, "spec": {"livekit": {"image": "livekit/livekit-server:v1.8.0", "keys": {"apiKeyKey": "api-key", "apiSecretKey": "api-secret", "secretName": "livekit-auth"}}, "pool": "livekit-default-pool", "redis": {"image": "redis:7-alpine", "keys": {"passwordKey": "redis-password", "secretName": "livekit-auth"}, "mode": "managed", "port": 6379}, "stunnerKeys": {"passwordKey": "stunner-password", "secretName": "livekit-auth", "usernameKey": "stunner-username"}}, "status": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:22Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "redis": {"message": "Replicas: 1/1", "ready": true}, "replicas": 1, "serviceName": "livekit-sig", "updatedReplicas": 1}}, "result": [{"Object": {"apiVersion": "lukacsi.org/v1alpha1", "kind": "LiveKitPool", "metadata": {"name": "livekit-default-pool", "namespace": "default"}, "status": {"components": {"redis": {"ready": true}, "server": {"conditions": [{"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:21Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available"}, {"lastTransitionTime": "2025-12-14T00:33:21Z", "lastUpdateTime": "2025-12-14T00:33:22Z", "message": "ReplicaSet \"livekit-server-59766d68b9\" is progressing.", "reason": "ReplicaSetUpdated", "status": "True", "type": "Progressing"}], "readyReplicas": null, "replicas": 1}}}}, "Type": "Upserted"}]}}
{"timestamp": "2025-12-14T00:33:24.316754734Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "gateway.networking.k8s.io/v1", "kind": "Gateway", "metadata": {"annotations": {"stunner.l7mp.io/service-type": "LoadBalancer"}, "creationTimestamp": "2025-12-13T14:26:58Z", "generation": 1, "name": "udp-gateway", "namespace": "stunner", "resourceVersion": "1765672404276783016", "uid": "ddc4b3d8-eda9-46dc-a1df-e0eeb755a1bf"}, "spec": {"gatewayClassName": "stunner-gatewayclass", "listeners": [{"allowedRoutes": {"namespaces": {"from": "All"}}, "name": "udp-listener", "port": 3478, "protocol": "TURN-UDP"}]}, "status": {"addresses": [{"type": "IPAddress", "value": "34.13.38.98"}], "conditions": [{"lastTransitionTime": "2025-12-13T14:26:59Z", "message": "gateway accepted by controller stunner.l7mp.io/gateway-operator", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:24Z", "message": "dataplane configuration successfully rendered", "observedGeneration": 1, "reason": "Programmed", "status": "True", "type": "Programmed"}], "listeners": [{"attachedRoutes": 1, "conditions": [{"lastTransitionTime": "2025-12-14T00:33:24Z", "message": "listener accepted", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:24Z", "message": "listener protocol-port available", "observedGeneration": 1, "reason": "NoConflicts", "status": "False", "type": "Conflicted"}, {"lastTransitionTime": "2025-12-14T00:33:24Z", "message": "listener object references sucessfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "name": "udp-listener", "supportedKinds": [{"group": "gateway.networking.k8s.io", "kind": "UDPRoute"}, {"group": "stunner.l7mp.io", "kind": "UDPRoute"}]}]}}, "result": []}}
{"timestamp": "2025-12-14T00:33:24.334228826Z", "level": "DEBUG", "logger": "operator.pipeline", "message": "eval ready", "payload": {"operator": "livekit-declarative-status-writer", "controller": "networking-status-aggregator", "target": "lukacsi.org/v1alpha1, Kind=LiveKitNetworkingView", "event-type": "Updated", "object": {"apiVersion": "stunner.l7mp.io/v1", "kind": "UDPRoute", "metadata": {"creationTimestamp": "2025-12-14T00:33:21Z", "generation": 1, "labels": {"livekit.lukacsi.org/component": "stunner", "livekit.lukacsi.org/pool": "livekit-default-pool", "livekit.lukacsi.org/view": "livekit-default-pool"}, "name": "livekit-media", "namespace": "default", "resourceVersion": "1765672404303391004", "uid": "19ed6261-e416-48d2-a350-bb506db75dba"}, "spec": {"parentRefs": [{"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}], "rules": [{"backendRefs": [{"group": "", "kind": "Service", "name": "livekit-sig", "namespace": "default"}]}]}, "status": {"parents": [{"conditions": [{"lastTransitionTime": "2025-12-14T00:33:24Z", "message": "parent stunner/udp-gateway accepted the route", "observedGeneration": 1, "reason": "Accepted", "status": "True", "type": "Accepted"}, {"lastTransitionTime": "2025-12-14T00:33:24Z", "message": "all backend references successfully resolved", "observedGeneration": 1, "reason": "ResolvedRefs", "status": "True", "type": "ResolvedRefs"}], "controllerName": "stunner.l7mp.io/gateway-operator", "parentRef": {"group": "gateway.networking.k8s.io", "kind": "Gateway", "name": "udp-gateway", "namespace": "stunner"}}]}}, "result": []}}
